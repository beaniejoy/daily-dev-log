> - 200513 dev log
> - cagong-ranking-project  
> - spring-boot, MySQL, IntelliJ  

<br>

## ğŸ”– 1. JPA @Queryë¥¼ ì´ìš©í•´ average ê³„ì‚° ê°’ ë½‘ì•„ì˜¤ê¸°

`SELECT avg(mood), avg(light), avg(price), avg(taste), cafe_id FROM review r WHERE r.cafe_id = 1;`  
ìœ„ Queryë¥¼ ì‹¤í–‰í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê¸° ìœ„í•œ ë°©ë²•


```java
// ReviewRepository.java
@Query(value = "SELECT avg(mood), avg(light), avg(price), avg(taste), cafe_id FROM review r WHERE r.cafe_id = ?1",
        nativeQuery = true)
Object findAverageByCafeId(Long cafeId);
```
- `Objectë¡œ` ë°˜í™˜í•´ì•¼ í•œë‹¤.
- **`Object[]`ëŠ” ì™œ ì•ˆë˜ëŠ”ì§€..**

```java
// ReviewRepositoryTests.java
@Test
public void average() {
    Object result = reviewRepository.findAverageByCafeId(1L);
    Object[] out = (Object[]) result;

    log.info(String.valueOf(out[0]));
    log.info(String.valueOf(out[1]));
    log.info(String.valueOf(out[2]));
    log.info(String.valueOf(out[3]));
    log.info(String.valueOf(out[4]));

}
```
- Testë¥¼ í†µí•´ ë°˜í™˜ì„ ì–´ë–»ê²Œ í•˜ëŠ”ì§€ ë°©ë²• ë°œê²¬
- `Object[]` typeìœ¼ë¡œ castingí•˜ê³  ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ì¶”ì¶œí•œë‹¤.