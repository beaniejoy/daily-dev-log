> - 200426 dev log
> - cagong-ranking-project  
> - spring-boot, MySQL, IntelliJ  

<br>

## ğŸ”– 1. Springì—ì„œ Error Handlingí•˜ê¸°

```java
@ControllerAdvice(annotations = Controller.class)
public class ScoreSetErrorAdvice {

    @ResponseStatus(HttpStatus.NOT_FOUND)
    @ExceptionHandler(ScoreSetNotFoundException.class)
    public String handleNotFound() {
        return "index";
    }
}
```
- `@ControllerAdvice`ë¥¼ í†µí•´ ëª¨ë“  Controllerì—ì„œ ì—ëŸ¬ ë°œìƒì‹œ ì—¬ê¸°ì„œ í•´ë‹¹í•˜ëŠ” Exception í´ë˜ìŠ¤ ì ìš©
- `@ResponseStatus`ë¥¼ í†µí•´ Statusì˜ ì†ì„±ì„ ì„¤ì •í•œë‹¤.
- ì—¬ëŸ¬ returnê°’ë“¤ì„ ì„¤ì •í•´ ì •ë³´ë¥¼ ì „ë‹¬í•´ì¤„ ìˆ˜ ìˆë‹¤. (View, Object ë“±ë“± ì—¬ëŸ¬ê°€ì§€ í˜•íƒœë¡œ ì „ë‹¬ ê°€ëŠ¥)

<br>

```java
    @ResponseStatus(HttpStatus.NOT_FOUND)
    @ExceptionHandler(ScoreSetNotFoundException.class)
    public ModelAndView handleNotFound() {
        ModelAndView mv = new ModelAndView();
        mv.setViewName("index");
        return mv;
    }
```
- ì—¬ê¸°ì„œ ModelAndViewë¥¼ ì´ìš©í•˜ê²Œ ë˜ë©´ ViewNameì— project ë‚´ defaultë¡œ ì„¤ì •ëœ ê²½ë¡œë¥¼ ê¸°ì¤€ìœ¼ë¡œ íŒŒì¼ ì´ë¦„ì„ ì •í•´ì£¼ë©´ ëœë‹¤.
- `index`ëŠ” src/main/resources/templatesê°€ ê¸°ë³¸ ê²½ë¡œë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ì„œ ê·¸ ì•ˆì— ìˆëŠ” `index.html`ì„ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤.
- `ModelAndView`ëŠ” View Nameì„ í†µí•´ í˜ì´ì§€ ê¸°ì¤€ìœ¼ë¡œ ì ‘ê·¼í•œë‹¤.

```java
@ControllerAdvice
public class ScoreSetErrorAdvice {

//    @ResponseStatus(HttpStatus.NOT_FOUND)
    @ExceptionHandler(ScoreSetNotFoundException.class)
    public String handleNotFound() {
        return "redirect:/cafes/search";
    }
}
```
- ì´ë ‡ê²Œ redirectë„ ì„¤ì • ê°€ëŠ¥í•˜ë‹¤.
- redirectë¥¼ í†µí•´ ì ‘ê·¼í•  ë•ŒëŠ” `@ResponseStatus` ì„¤ì •ì´ ì—†ì–´ì•¼ í•œë‹¤. ì•ˆê·¸ëŸ¬ë©´ redirectë¡œ ë„˜ì–´ê°€ì§€ ì•Šê³  Statusê¸°ì¤€ìœ¼ë¡œ í™”ë©´ì„ ë³´ì—¬ì¤€ë‹¤.

