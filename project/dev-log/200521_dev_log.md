> - 200521 dev log
> - cagong-ranking-project  
> - spring-boot, MySQL, IntelliJ  

<br>

## ğŸ”– JUnit Testì‹œ ì£¼ì˜ì‚¬í•­

### SpringBootApplication annotation ì¤‘ë³µ ë¬¸ì œ

```java
@SpringBootApplication
public class CaferankingUserApplication {

	public static void main(String[] args) {
		SpringApplication.run(CaferankingUserApplication.class, args);
	}
}
```
- `common api` projectì™€ `user api` projectê°€ ì„œë¡œ ì—°ë™í•˜ëŠ” ìƒí™©ì—ì„œ JUnit testë¥¼ ì‹œë„
- ë‘ ê°œì˜ í”„ë¡œì íŠ¸ ëª¨ë‘ `@SpringBootApplication` annotationì„ ê°€ì§€ê³  ìˆì„ ë•Œ ì—ëŸ¬ ë°œìƒ 


<br>

### ì˜ì¡´ì„± ë³€ê²½

```gradle
testImplementation('org.springframework.boot:spring-boot-starter-test') {
    exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'
}

test {
    userJUnitPlatform()
}
```
- Spring Initializerë¡œ ìë™ ìƒì„±ëœ testê´€ë ¨ ì˜ì¡´ì„±
- JUnit5ë¥¼ ì‚¬ìš©í•  ë• ì˜ ì‘ë™ëœë‹¤.

```gradle
testCompile('org.springframework.boot:spring-boot-starter-test')
```
- JUnit4ë¥¼ ì‚¬ìš©í•  ë•Œ Spring Initializerë¡œ ìƒì„±ëœ ì˜ì¡´ì„± ì„¤ì •ì—ì„œ ë³€ê²½í•´ì•¼ í•œë‹¤.

<br>

### jsonìœ¼ë¡œ ë°˜í™˜í•  ë•Œ í•œê¸€ ê¹¨ì§ ë°©ì§€

```java
@GetMapping(value = "", produces = "application/json;charset=UTF-8")
```
- jsoní˜•íƒœì™€ utf-8ë¡œ content-typeì„ ì„¤ì •í•´ì¤€ë‹¤.

### jsonPath ì‚¬ìš©í•œ ë°ì´í„° test

```java
mvc.perform(get("/cafes")
    .param("phrase", "ìŠ¤íƒ€ë²…ìŠ¤"))
    .andExpect(status().isOk())
    .andDo(print())
    .andExpect(
            jsonPath("$.data[0].id", is(1))
    );
;
```
- jsonPathë¥¼ ì´ìš©í•´ ì‘ë‹µë°›ì€ json ë°ì´í„° ë‚´ìš©ì„ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.
- `$`ë¥¼ í†µí•´ jsonì— ì ‘ê·¼í•˜ë©´ ëœë‹¤.